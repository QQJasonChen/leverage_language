<!DOCTYPE html>
<html>
<head>
    <title>🇳🇱 Dutch Structure Analysis Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5; 
            max-width: 1200px; 
            margin: 0 auto;
        }
        .test-container { 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
            margin: 20px 0;
        }
        .example-sentence { 
            background: #e3f2fd; 
            padding: 15px; 
            border-left: 4px solid #2196f3; 
            margin: 15px 0;
            font-size: 18px;
            font-weight: bold;
        }
        .analysis-section { 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 5px; 
            margin: 10px 0;
        }
        .feature { 
            margin: 10px 0; 
            padding: 10px; 
            background: #fff3cd; 
            border-left: 3px solid #ffc107; 
        }
        .comparison { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
            margin: 20px 0;
        }
        .before, .after { 
            padding: 15px; 
            border-radius: 5px;
        }
        .before { 
            background: #f8d7da; 
            border: 1px solid #f5c6cb;
        }
        .after { 
            background: #d4edda; 
            border: 1px solid #c3e6cb;
        }
        code { 
            background: #f1f1f1; 
            padding: 2px 6px; 
            border-radius: 3px; 
            font-family: 'Courier New', monospace;
        }
        .dutch-flag { font-size: 24px; }
    </style>
</head>
<body>
    <h1>🇳🇱 Dutch Sentence Structure Analysis Enhancement</h1>
    
    <div class="test-container">
        <h2>📝 Your Example Sentence</h2>
        <div class="example-sentence">
            <span class="dutch-flag">🇳🇱</span> "Vraag wat hij vanavond gaat doen"
        </div>
        <p><strong>Translation:</strong> "Ask what he is going to do tonight"</p>
    </div>

    <div class="test-container">
        <h2>✨ New Dutch-Specific Analysis Features</h2>
        
        <div class="comparison">
            <div class="before">
                <h3>❌ Before (Generic Analysis)</h3>
                <ul>
                    <li>Basic translation</li>
                    <li>Simple grammar explanation</li>
                    <li>General word meanings</li>
                    <li>No structural insight</li>
                </ul>
            </div>
            
            <div class="after">
                <h3>✅ After (Dutch-Specific Analysis)</h3>
                <ul>
                    <li><strong>V2 Word Order Analysis</strong></li>
                    <li><strong>Embedded Question Structure</strong></li>
                    <li><strong>Time-Manner-Place Rules</strong></li>
                    <li><strong>Verb Position Logic</strong></li>
                    <li><strong>de/het Article System</strong></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>🔍 Detailed Structure Breakdown</h2>
        
        <div class="analysis-section">
            <h3>🇳🇱 荷蘭語句型結構分析 (Dutch Sentence Structure Analysis)</h3>
            
            <div class="feature">
                <strong>V2語序規則 (V2 Word Order Rule):</strong><br>
                • <code>Vraag</code> (imperative) in position 1<br>
                • Embedded question <code>wat hij vanavond gaat doen</code> follows<br>
                • Verb <code>gaat</code> correctly positioned in subordinate clause
            </div>
            
            <div class="feature">
                <strong>詞彙順序 (Word Order Pattern):</strong><br>
                • <code>vanavond</code> (time) in middle field position<br>
                • Follows Dutch Time-Manner-Place (TMP) rule<br>
                • Typical Dutch sentence structure
            </div>
            
            <div class="feature">
                <strong>從句結構 (Subordinate Clause Structure):</strong><br>
                • <code>wat hij vanavond gaat doen</code> = embedded question<br>
                • Verb <code>gaat</code> + infinitive <code>doen</code> pattern<br>
                • Subject <code>hij</code> follows question word <code>wat</code>
            </div>
            
            <div class="feature">
                <strong>動詞組合 (Verb Combination):</strong><br>
                • <code>gaat</code> (auxiliary) + <code>doen</code> (infinitive)<br>
                • Future intention construction<br>
                • Infinitive at end of clause (Dutch pattern)
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>🎯 How to Access This Analysis</h2>
        
        <div class="analysis-section">
            <h3>Step 1: Set Analysis Complexity</h3>
            <p>Go to extension settings and choose:</p>
            <ul>
                <li><strong>"Detailed"</strong> - Full Dutch structure analysis</li>
                <li><strong>"Medium"</strong> - Basic Dutch features + standard analysis</li>
                <li><strong>"Auto"</strong> - Intelligently selects based on text complexity</li>
            </ul>
        </div>
        
        <div class="analysis-section">
            <h3>Step 2: Analyze Your Dutch Text</h3>
            <p>Simply paste any Dutch sentence into the extension:</p>
            <ul>
                <li>System automatically detects Dutch language</li>
                <li>Applies Dutch-specific structural analysis</li>
                <li>Provides detailed word order explanations</li>
                <li>Explains grammar rules specific to Dutch</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <h2>🧪 Test Other Dutch Sentences</h2>
        
        <div class="example-sentence">
            <span class="dutch-flag">🇳🇱</span> "Ik ga morgen met de trein naar Amsterdam"
        </div>
        <p><em>Will analyze: V2 order, time placement, preposition use, separable verbs</em></p>
        
        <div class="example-sentence">
            <span class="dutch-flag">🇳🇱</span> "Omdat hij ziek is, blijft hij thuis"
        </div>
        <p><em>Will analyze: Subordinate clause, verb position change, causal relationship</em></p>
        
        <div class="example-sentence">
            <span class="dutch-flag">🇳🇱</span> "Het grote rode huis staat aan de rivier"
        </div>
        <p><em>Will analyze: Adjective inflection, het-word, prepositional phrases</em></p>
    </div>

    <div class="test-container">
        <h2>💡 Technical Implementation</h2>
        
        <div class="analysis-section">
            <h3>Enhanced Features Added:</h3>
            <ul>
                <li><strong>Language Detection:</strong> Automatically identifies Dutch text</li>
                <li><strong>Structure Analysis:</strong> V2 rule, embedded clauses, word order</li>
                <li><strong>Grammar Points:</strong> Articles, adjective inflection, verb conjugation</li>
                <li><strong>Complexity Levels:</strong> Different detail levels based on user preference</li>
                <li><strong>Cultural Context:</strong> Dutch-specific usage patterns and conventions</li>
            </ul>
        </div>
        
        <div class="analysis-section">
            <h3>Files Modified:</h3>
            <ul>
                <li><code>lib/ai-service.js</code> - Enhanced Dutch analysis prompts</li>
                <li>Professional complexity: Comprehensive Dutch structure analysis</li>
                <li>Medium complexity: Basic Dutch features integrated</li>
                <li>Automatic language detection triggers Dutch-specific analysis</li>
            </ul>
        </div>
    </div>

    <script>
        console.log('🇳🇱 Dutch Structure Analysis Test Page Loaded');
        console.log('This enhancement provides specialized analysis for Dutch sentence structure');
        console.log('Features: V2 word order, embedded clauses, TMP rules, verb positions, articles');
    </script>
</body>
</html>